<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:local="clr-namespace:Playnite.DesktopApp.Controls.Views;assembly=PlayniteUI"
                    xmlns:pcmds="clr-namespace:Playnite.Commands;assembly=Playnite"
                    xmlns:views="clr-namespace:Playnite.DesktopApp.Controls.Views;assembly=PlayniteUI"
                    xmlns:pctrls="clr-namespace:Playnite.DesktopApp.Controls;assembly=PlayniteUI"
                    xmlns:pmrk="clr-namespace:Playnite.DesktopApp.Markup;assembly=PlayniteUI"
                    xmlns:pbeh="clr-namespace:Playnite.Behaviors;assembly=Playnite"
                    xmlns:pctrlsShared="clr-namespace:Playnite.Controls;assembly=Playnite">    

    <Style TargetType="{x:Type views:GridGameOverview}">        
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type views:GridGameOverview}">
                    <DockPanel>
                        <TextBlock HorizontalAlignment="Right" VerticalAlignment="Top"
                                   DockPanel.Dock="Top" Margin="0,10,15,5">
                            <Hyperlink Command="{pmrk:MainViewModel CloseGameSideBarCommand}">
                                <Run Text="r" FontFamily="Marlett" />
                            </Hyperlink>
                        </TextBlock>

                        <DockPanel DockPanel.Dock="Top">
                            <Image DockPanel.Dock="Left" MaxHeight="32" MaxWidth="32" RenderOptions.BitmapScalingMode="Fant"
                       Source="{Binding Game.IconObject}" />
                            <TextBlock Text="{Binding Game.DisplayName}" FontSize="20" Margin="10,0,0,0" TextWrapping="Wrap"
                            DockPanel.Dock="Left" VerticalAlignment="Center" Foreground="{StaticResource TextBrush}">
                                <TextBlock.Effect>
                                    <DropShadowEffect ShadowDepth="3"/>
                                </TextBlock.Effect>
                            </TextBlock>
                        </DockPanel>

                        <StackPanel DockPanel.Dock="Top" Margin="0,20,0,0" Orientation="Horizontal" Height="35" >
                            <Button MinWidth="120" Content="{DynamicResource LOCPlayGame}" Style="{StaticResource PlayButton}"
                            Visibility="{Binding IsPlayAvailable, Converter={StaticResource BooleanToVisibilityConverter}}"
                            Command="{Binding PlayCommand}"/>
                            <Button MinWidth="120" Content="{DynamicResource LOCInstallGame}"
                            Visibility="{Binding IsInstallAvailable, Converter={StaticResource BooleanToVisibilityConverter}}"
                            Command="{Binding InstallCommand}"/>
                            <Button MinWidth="120" Content="{DynamicResource LOCSetupRunning}"
                            Visibility="{Binding IsInstalling, Converter={StaticResource BooleanToVisibilityConverter}}"
                            Command="{Binding CheckSetupCommand}"/>
                            <Button MinWidth="120" Content="{DynamicResource LOCUninstalling}"
                            Visibility="{Binding IsUninstalling, Converter={StaticResource BooleanToVisibilityConverter}}"
                            Command="{Binding CheckSetupCommand}"/>
                            <Button MinWidth="120" Content="{DynamicResource LOCGameRunning}"
                            Visibility="{Binding IsRunning, Converter={StaticResource BooleanToVisibilityConverter}}"
                            Command="{Binding CheckExecutionCommand}"/>
                            <Button MinWidth="120" Content="{DynamicResource LOCGameLaunching}"
                            Visibility="{Binding IsLaunching, Converter={StaticResource BooleanToVisibilityConverter}}"
                            Command="{Binding CheckExecutionCommand}"/>
                            <Button MinWidth="120" Content="{DynamicResource LOCMoreAction}"
                            Margin="15,0,0,0" pbeh:LeftClickContextMenuBehavior.Enabled="True">
                                <Button.ContextMenu>
                                    <pctrls:GameMenu DataContext="{pmrk:MainViewModel SelectedGame}"
                                         Placement="Bottom" ShowStartSection="False" />
                                </Button.ContextMenu>
                            </Button>
                        </StackPanel>

                        <ScrollViewer HorizontalScrollBarVisibility="Disabled"
                                      VerticalScrollBarVisibility="Auto"
                                      Margin="0,15,0,0" DockPanel.Dock="Top">
                            <StackPanel>
                                <views:GameProperties IsTabStop="False" />
                                <Border Margin="0,10,0,0">
                                    <Border.Style>
                                        <Style TargetType="Border" BasedOn="{StaticResource {x:Type Border}}">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding Game.Description}" Value="{x:Null}">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Game.Description}" Value="">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Border.Style>
                                    <pctrlsShared:HtmlTextView HtmlText="{Binding Game.Description, Mode=OneWay}"
                                                               Visibility="{Binding DescriptionVisibility}"
                                        HtmlFontFamily="{DynamicResource FontFamily}"
                                        HtmlForeground="{DynamicResource TextColor}"
                                        LinkForeground="{DynamicResource GlyphColor}"
                                        ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                        ScrollViewer.VerticalScrollBarVisibility="Disabled"/>
                                </Border>
                            </StackPanel>
                        </ScrollViewer>
                    </DockPanel>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>