<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:pcmds="clr-namespace:Playnite.Commands;assembly=Playnite"
                    xmlns:views="clr-namespace:Playnite.DesktopApp.Controls.Views;assembly=PlayniteUI"
                    xmlns:pctrls="clr-namespace:Playnite.DesktopApp.Controls;assembly=PlayniteUI"
                    xmlns:pmrk="clr-namespace:Playnite.DesktopApp.Markup;assembly=PlayniteUI"
                    xmlns:playnite="clr-namespace:Playnite;assembly=Playnite"
                    xmlns:pbeh="clr-namespace:Playnite.Behaviors;assembly=Playnite">

    <Style TargetType="{x:Type views:Library}">
        <Setter Property="Background" Value="Yellow" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type views:Library}">
                    <DockPanel>
                        <DockPanel.Resources>         
                            <Storyboard x:Key="VisibilityOn">
                                <ThicknessAnimationUsingKeyFrames Storyboard.TargetProperty="Margin"
                                                 Storyboard.TargetName="FilterPanel">
                                    <SplineThicknessKeyFrame KeyTime="00:00:00" Value="-230,0,0,0" />
                                    <SplineThicknessKeyFrame KeyTime="0:0:0.14" Value="0,0,0,0" />
                                </ThicknessAnimationUsingKeyFrames>
                            </Storyboard>
                            <Storyboard x:Key="VisibilityOff">
                                <ThicknessAnimationUsingKeyFrames Storyboard.TargetProperty="Margin"
                                                 Storyboard.TargetName="FilterPanel">
                                    <SplineThicknessKeyFrame KeyTime="00:00:00" Value="0,0,0,0" />
                                    <SplineThicknessKeyFrame KeyTime="0:0:0.14" Value="-230,0,0,0" />
                                </ThicknessAnimationUsingKeyFrames>
                            </Storyboard>
                        </DockPanel.Resources>
                        <views:FilterPanel x:Name="FilterPanel"
                                    DockPanel.Dock="Left" Width="230"
                                    pbeh:AnimatedVisibility.Visibility="{pmrk:Settings FilterPanelVisible}"
                                    pbeh:AnimatedVisibility.Visible="{StaticResource VisibilityOn}"
                                    pbeh:AnimatedVisibility.Collapsed="{StaticResource VisibilityOff}">               
                        </views:FilterPanel>
                        <Grid DockPanel.Dock="Left">
                            <views:LibraryDetailsView Visibility="{pmrk:Settings ViewSettings.GamesViewType,Converter={StaticResource EnumToVisibilityConverter},ConverterParameter={x:Static playnite:ViewType.Details}}"
                                                        IsEnabled="{pmrk:Settings ViewSettings.GamesViewType,Converter={StaticResource EnumToBooleanConverter},ConverterParameter={x:Static playnite:ViewType.Details}}"/>
                            <views:LibraryGridView Visibility="{pmrk:Settings ViewSettings.GamesViewType,Converter={StaticResource EnumToVisibilityConverter},ConverterParameter={x:Static playnite:ViewType.Grid}}"
                                                     IsEnabled="{pmrk:Settings ViewSettings.GamesViewType,Converter={StaticResource EnumToBooleanConverter},ConverterParameter={x:Static playnite:ViewType.Grid}}"/>
                            <views:LibraryListView Visibility="{pmrk:Settings ViewSettings.GamesViewType,Converter={StaticResource EnumToVisibilityConverter},ConverterParameter={x:Static playnite:ViewType.List}}"
                                                     IsEnabled="{pmrk:Settings ViewSettings.GamesViewType,Converter={StaticResource EnumToBooleanConverter},ConverterParameter={x:Static playnite:ViewType.List}}"/>
                        </Grid>
                    </DockPanel>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>